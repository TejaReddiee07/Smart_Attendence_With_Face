{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nagat\\\\OneDrive\\\\Desktop\\\\sample project\\\\frontend\\\\src\\\\components\\\\ManageStudents.js\",\n  _s = $RefreshSig$();\n// src/components/ManageStudents.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:5000';\nconst ManageStudents = ({\n  branch,\n  setBranch,\n  onStatsUpdate\n}) => {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [formData, setFormData] = useState({\n    admissionNo: '',\n    name: '',\n    specialization: '',\n    email: '',\n    semester: '1'\n  });\n  const [enrollingStudent, setEnrollingStudent] = useState(null);\n  const [isEnrolling, setIsEnrolling] = useState(false);\n  const [enrollmentStatus, setEnrollmentStatus] = useState('idle'); // idle, capturing, processing, success, error\n  const [statusMessage, setStatusMessage] = useState('');\n  const videoRef = useRef(null);\n  const streamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const loadStudents = async () => {\n    try {\n      const res = await fetch(`${API_BASE}/api/students/${branch}`);\n      const data = await res.json();\n      setStudents(data);\n    } catch (error) {\n      console.log('Load students failed:', error);\n    }\n  };\n  useEffect(() => {\n    loadStudents();\n  }, [branch]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const res = await fetch(`${API_BASE}/api/add_student`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          admission_no: formData.admissionNo,\n          name: formData.name,\n          branch,\n          specialization: formData.specialization,\n          email: formData.email,\n          semester: formData.semester\n        })\n      });\n      const data = await res.json();\n      if (res.ok && data.success) {\n        setShowAddForm(false);\n        setFormData({\n          admissionNo: '',\n          name: '',\n          specialization: '',\n          email: '',\n          semester: '1'\n        });\n        await loadStudents();\n        onStatsUpdate === null || onStatsUpdate === void 0 ? void 0 : onStatsUpdate();\n      } else {\n        alert(data.error || `Error adding student! (${res.status})`);\n      }\n    } catch (error) {\n      console.error(error);\n      alert('Error adding student! (network)');\n    }\n  };\n  const deleteStudent = async admissionNo => {\n    if (!window.confirm('Delete this student?')) return;\n    try {\n      const res = await fetch(`${API_BASE}/api/delete_student`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          admission_no: admissionNo\n        })\n      });\n      const data = await res.json();\n      if (res.ok && data.success) {\n        await loadStudents();\n        onStatsUpdate === null || onStatsUpdate === void 0 ? void 0 : onStatsUpdate();\n      } else {\n        alert(data.error || 'Error deleting student!');\n      }\n    } catch (err) {\n      console.error(err);\n      alert('Error deleting student!');\n    }\n  };\n\n  // ====== FACE ENROLLMENT FUNCTIONS ======\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: 640,\n          height: 480,\n          facingMode: 'user'\n        }\n      });\n      streamRef.current = stream;\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        await videoRef.current.play();\n      }\n      setEnrollmentStatus('capturing');\n    } catch (err) {\n      console.error(err);\n      setEnrollmentStatus('error');\n      setStatusMessage('Camera access denied');\n    }\n  };\n  const stopCamera = () => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(t => t.stop());\n      streamRef.current = null;\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n  };\n  const captureFrameAsDataURL = () => {\n    if (!videoRef.current) return null;\n    const video = videoRef.current;\n    const canvas = canvasRef.current || document.createElement('canvas');\n    canvas.width = video.videoWidth || 640;\n    canvas.height = video.videoHeight || 480;\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n    return canvas.toDataURL('image/jpeg', 0.9);\n  };\n  const handleEnrollClick = async student => {\n    if (student.face_enrolled) {\n      alert('âœ… Face already enrolled for this student');\n      return;\n    }\n    setEnrollingStudent(student);\n    setIsEnrolling(true);\n    setEnrollmentStatus('idle');\n    setTimeout(startCamera, 300); // Small delay for smooth UX\n  };\n  const handleEnrollment = async imageData => {\n    setEnrollmentStatus('processing');\n    setStatusMessage('ğŸ” Processing face...');\n    try {\n      const response = await fetch(`${API_BASE}/api/enroll_face`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          admission_no: enrollingStudent.admission_no,\n          name: enrollingStudent.name,\n          image: imageData\n        })\n      });\n      const result = await response.json();\n      if (result.success) {\n        setEnrollmentStatus('success');\n        setStatusMessage(result.message);\n        await loadStudents(); // Refresh student list\n        onStatsUpdate === null || onStatsUpdate === void 0 ? void 0 : onStatsUpdate();\n        setTimeout(() => {\n          setIsEnrolling(false);\n          setEnrollingStudent(null);\n          setEnrollmentStatus('idle');\n        }, 2000);\n      } else {\n        setEnrollmentStatus('error');\n        setStatusMessage(result.error);\n\n        // Show beautiful duplicate warning\n        if (result.error.includes('already enrolled') || result.error.includes('Face already enrolled')) {\n          showDuplicateWarning(result.error);\n        }\n      }\n    } catch (error) {\n      setEnrollmentStatus('error');\n      setStatusMessage('Network error - Please try again');\n    }\n  };\n  const enrollFace = () => {\n    const imageDataUrl = captureFrameAsDataURL();\n    if (!imageDataUrl) {\n      setEnrollmentStatus('error');\n      setStatusMessage('Could not capture image');\n      return;\n    }\n    handleEnrollment(imageDataUrl);\n  };\n  const retryEnrollment = () => {\n    setEnrollmentStatus('capturing');\n    setStatusMessage('');\n  };\n\n  // ====== BEAUTIFUL DUPLICATE WARNING ======\n  const showDuplicateWarning = message => {\n    const modal = document.createElement('div');\n    modal.style.cssText = `\n      position: fixed; top: 0; left: 0; right: 0; bottom: 0;\n      background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);\n      display: flex; align-items: center; justify-content: center;\n      z-index: 9999; font-family: 'Inter', sans-serif;\n    `;\n    modal.innerHTML = `\n      <div style=\"\n        background: linear-gradient(135deg, #fef3c7, #fde68a);\n        border: 2px solid #f59e0b; border-radius: 24px;\n        padding: 2.5rem 2rem; max-width: 450px; text-align: center;\n        box-shadow: 0 25px 50px rgba(245,158,11,0.4);\n        animation: bounceIn 0.5s ease;\n      \">\n        <div style=\"font-size: 3rem; margin-bottom: 1rem;\">ğŸš«</div>\n        <h3 style=\"color: #92400e; font-size: 1.4rem; font-weight: 800; margin: 0 0 1rem 0;\">\n          Face Already Enrolled!\n        </h3>\n        <div style=\"\n          background: rgba(251,191,36,0.2); border-radius: 16px;\n          padding: 1.25rem; margin-bottom: 1.5rem; white-space: pre-line;\n          font-size: 1rem; font-weight: 600; line-height: 1.4;\n        \">${message}</div>\n        <button onclick=\"this.closest('div').parentElement.parentElement.remove()\" style=\"\n          background: linear-gradient(135deg, #f59e0b, #d97706);\n          color: white; border: none; padding: 0.875rem 2rem;\n          border-radius: 50px; font-size: 1rem; font-weight: 700;\n          cursor: pointer; box-shadow: 0 10px 25px rgba(245,158,11,0.4);\n          transition: all 0.3s ease;\n        \" onmouseover=\"this.style.transform='translateY(-2px)'; this.style.boxShadow='0 15px 35px rgba(245,158,11,0.5)'\"\n           onmouseout=\"this.style.transform=''; this.style.boxShadow='0 10px 25px rgba(245,158,11,0.4)'\">\n          Got it! ğŸ‘\n        </button>\n      </div>\n      <style>\n        @keyframes bounceIn {\n          0% { transform: scale(0.3); opacity: 0; }\n          50% { transform: scale(1.05); }\n          70% { transform: scale(0.9); }\n          100% { transform: scale(1); opacity: 1; }\n        }\n      </style>\n    `;\n    document.body.appendChild(modal);\n  };\n  const branches = ['CSE', 'AIML', 'AIDS', 'ECE', 'MECH'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"manage-students-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"branch-selector\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"page-title\",\n        children: \"\\uD83D\\uDC68\\u200D\\uD83C\\uDF93 Manage Students\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"branch-buttons\",\n        children: branches.map(b => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `branch-btn ${branch === b ? 'active' : ''}`,\n          onClick: () => {\n            setBranch(b);\n            setFormData(prev => ({\n              ...prev,\n              branch: b\n            }));\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"branch-icon\",\n            children: b === 'CSE' ? 'ğŸ’»' : b === 'AIML' ? 'ğŸ§ ' : b === 'AIDS' ? 'ğŸ¤–' : b === 'ECE' ? 'ğŸ“¡' : 'âš™ï¸'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), b, /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"student-count\",\n            children: [\"(\", students.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, b, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-student-section\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-student-btn\",\n        onClick: () => setShowAddForm(!showAddForm),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), showAddForm ? 'Cancel' : 'â• Add New Student']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), showAddForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-student-form-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"add-student-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Admission No \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"required\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              placeholder: \"E.g., E220160\",\n              value: formData.admissionNo,\n              onChange: e => setFormData({\n                ...formData,\n                admissionNo: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Student Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"required\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              placeholder: \"Enter full name\",\n              value: formData.name,\n              onChange: e => setFormData({\n                ...formData,\n                name: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Specialization\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              placeholder: \"E.g., AI/ML\",\n              value: formData.specialization,\n              onChange: e => setFormData({\n                ...formData,\n                specialization: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              type: \"email\",\n              placeholder: \"student@college.edu\",\n              value: formData.email,\n              onChange: e => setFormData({\n                ...formData,\n                email: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Semester\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              value: formData.semester,\n              onChange: e => setFormData({\n                ...formData,\n                semester: e.target.value\n              }),\n              children: [1, 2, 3, 4, 5, 6, 7, 8].map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: s,\n                children: [\"Semester \", s]\n              }, s, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"cancel-btn\",\n            onClick: () => setShowAddForm(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-btn\",\n            children: \"\\u2795 Add Student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"students-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"students-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [branch, \" Students (\", students.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"students-grid\",\n        children: [students.map(student => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"student-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"student-avatar\",\n            children: student.name.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"student-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: student.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admission-no\",\n              children: student.admission_no\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), student.specialization && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"specialization\",\n              children: student.specialization\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 19\n            }, this), student.semester && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"semester\",\n              children: [\"Semester \", student.semester]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `face-status ${student.face_enrolled ? 'enrolled' : ''}`,\n            children: student.face_enrolled ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Enrolled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"enroll-btn\",\n              onClick: () => handleEnrollClick(student),\n              children: \"Enroll Face\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-btn\",\n            onClick: () => deleteStudent(student.admission_no),\n            children: \"\\uD83D\\uDDD1\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, student.admission_no, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, this)), students.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"No students in \", branch, \" branch yet. Add some above! \\uD83D\\uDC46\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }, this), isEnrolling && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"enroll-modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"enroll-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Enroll Face: \", enrollingStudent === null || enrollingStudent === void 0 ? void 0 : enrollingStudent.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => {\n              setIsEnrolling(false);\n              setEnrollingStudent(null);\n              stopCamera();\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), enrollmentStatus === 'idle' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar\",\n            children: enrollingStudent === null || enrollingStudent === void 0 ? void 0 : enrollingStudent.name.charAt(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: enrollingStudent === null || enrollingStudent === void 0 ? void 0 : enrollingStudent.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: enrollingStudent === null || enrollingStudent === void 0 ? void 0 : enrollingStudent.admission_no\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"start-camera-btn\",\n            onClick: startCamera,\n            children: \"\\uD83C\\uDFA5 Start Camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 15\n        }, this), (enrollmentStatus === 'capturing' || enrollmentStatus === 'processing') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-camera\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            autoPlay: true,\n            muted: true,\n            playsInline: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `status-display ${enrollmentStatus}`,\n            children: [enrollmentStatus === 'capturing' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"face-circle\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-circle-notch fa-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Position face in frame & click capture\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"capture-btn\",\n                onClick: enrollFace,\n                children: \"\\uD83D\\uDCF8 Capture & Enroll\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true), enrollmentStatus === 'processing' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: statusMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 15\n        }, this), enrollmentStatus === 'success' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-success\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"success-icon\",\n            children: \"\\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: statusMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 15\n        }, this), enrollmentStatus === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-error\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-icon\",\n            children: \"\\u274C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Enrollment Failed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: statusMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"retry-btn\",\n              onClick: retryEnrollment,\n              children: \"\\uD83D\\uDD04 Retry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cancel-btn\",\n              onClick: () => {\n                setIsEnrolling(false);\n                setEnrollingStudent(null);\n                stopCamera();\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageStudents, \"kOT5f21wl3XLWDymyrAHw/Cd2AQ=\");\n_c = ManageStudents;\nexport default ManageStudents;\nvar _c;\n$RefreshReg$(_c, \"ManageStudents\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","ManageStudents","branch","setBranch","onStatsUpdate","_s","students","setStudents","showAddForm","setShowAddForm","formData","setFormData","admissionNo","name","specialization","email","semester","enrollingStudent","setEnrollingStudent","isEnrolling","setIsEnrolling","enrollmentStatus","setEnrollmentStatus","statusMessage","setStatusMessage","videoRef","streamRef","canvasRef","loadStudents","res","fetch","data","json","error","console","log","handleSubmit","e","preventDefault","method","headers","body","JSON","stringify","admission_no","ok","success","alert","status","deleteStudent","window","confirm","err","startCamera","stream","navigator","mediaDevices","getUserMedia","video","width","height","facingMode","current","srcObject","play","stopCamera","getTracks","forEach","t","stop","captureFrameAsDataURL","canvas","document","createElement","videoWidth","videoHeight","ctx","getContext","drawImage","toDataURL","handleEnrollClick","student","face_enrolled","setTimeout","handleEnrollment","imageData","response","image","result","message","includes","showDuplicateWarning","enrollFace","imageDataUrl","retryEnrollment","modal","style","cssText","innerHTML","appendChild","branches","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","b","onClick","prev","length","onSubmit","placeholder","value","onChange","target","required","type","s","charAt","toUpperCase","ref","autoPlay","muted","playsInline","display","_c","$RefreshReg$"],"sources":["C:/Users/nagat/OneDrive/Desktop/sample project/frontend/src/components/ManageStudents.js"],"sourcesContent":["// src/components/ManageStudents.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst API_BASE = 'http://localhost:5000';\r\n\r\nconst ManageStudents = ({ branch, setBranch, onStatsUpdate }) => {\r\n  const [students, setStudents] = useState([]);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    admissionNo: '',\r\n    name: '',\r\n    specialization: '',\r\n    email: '',\r\n    semester: '1'\r\n  });\r\n  const [enrollingStudent, setEnrollingStudent] = useState(null);\r\n  const [isEnrolling, setIsEnrolling] = useState(false);\r\n  const [enrollmentStatus, setEnrollmentStatus] = useState('idle'); // idle, capturing, processing, success, error\r\n  const [statusMessage, setStatusMessage] = useState('');\r\n  const videoRef = useRef(null);\r\n  const streamRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n\r\n  const loadStudents = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/students/${branch}`);\r\n      const data = await res.json();\r\n      setStudents(data);\r\n    } catch (error) {\r\n      console.log('Load students failed:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadStudents();\r\n  }, [branch]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/add_student`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          admission_no: formData.admissionNo,\r\n          name: formData.name,\r\n          branch,\r\n          specialization: formData.specialization,\r\n          email: formData.email,\r\n          semester: formData.semester\r\n        })\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok && data.success) {\r\n        setShowAddForm(false);\r\n        setFormData({\r\n          admissionNo: '',\r\n          name: '',\r\n          specialization: '',\r\n          email: '',\r\n          semester: '1'\r\n        });\r\n        await loadStudents();\r\n        onStatsUpdate?.();\r\n      } else {\r\n        alert(data.error || `Error adding student! (${res.status})`);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Error adding student! (network)');\r\n    }\r\n  };\r\n\r\n  const deleteStudent = async (admissionNo) => {\r\n    if (!window.confirm('Delete this student?')) return;\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/delete_student`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ admission_no: admissionNo })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok && data.success) {\r\n        await loadStudents();\r\n        onStatsUpdate?.();\r\n      } else {\r\n        alert(data.error || 'Error deleting student!');\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Error deleting student!');\r\n    }\r\n  };\r\n\r\n  // ====== FACE ENROLLMENT FUNCTIONS ======\r\n  const startCamera = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: { width: 640, height: 480, facingMode: 'user' }\r\n      });\r\n      streamRef.current = stream;\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n        await videoRef.current.play();\r\n      }\r\n      setEnrollmentStatus('capturing');\r\n    } catch (err) {\r\n      console.error(err);\r\n      setEnrollmentStatus('error');\r\n      setStatusMessage('Camera access denied');\r\n    }\r\n  };\r\n\r\n  const stopCamera = () => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach((t) => t.stop());\r\n      streamRef.current = null;\r\n    }\r\n    if (videoRef.current) {\r\n      videoRef.current.srcObject = null;\r\n    }\r\n  };\r\n\r\n  const captureFrameAsDataURL = () => {\r\n    if (!videoRef.current) return null;\r\n    const video = videoRef.current;\r\n    const canvas = canvasRef.current || document.createElement('canvas');\r\n    canvas.width = video.videoWidth || 640;\r\n    canvas.height = video.videoHeight || 480;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n    return canvas.toDataURL('image/jpeg', 0.9);\r\n  };\r\n\r\n  const handleEnrollClick = async (student) => {\r\n    if (student.face_enrolled) {\r\n      alert('âœ… Face already enrolled for this student');\r\n      return;\r\n    }\r\n    setEnrollingStudent(student);\r\n    setIsEnrolling(true);\r\n    setEnrollmentStatus('idle');\r\n    setTimeout(startCamera, 300); // Small delay for smooth UX\r\n  };\r\n\r\n  const handleEnrollment = async (imageData) => {\r\n    setEnrollmentStatus('processing');\r\n    setStatusMessage('ğŸ” Processing face...');\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/api/enroll_face`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          admission_no: enrollingStudent.admission_no,\r\n          name: enrollingStudent.name,\r\n          image: imageData\r\n        })\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        setEnrollmentStatus('success');\r\n        setStatusMessage(result.message);\r\n        await loadStudents(); // Refresh student list\r\n        onStatsUpdate?.();\r\n        setTimeout(() => {\r\n          setIsEnrolling(false);\r\n          setEnrollingStudent(null);\r\n          setEnrollmentStatus('idle');\r\n        }, 2000);\r\n      } else {\r\n        setEnrollmentStatus('error');\r\n        setStatusMessage(result.error);\r\n        \r\n        // Show beautiful duplicate warning\r\n        if (result.error.includes('already enrolled') || result.error.includes('Face already enrolled')) {\r\n          showDuplicateWarning(result.error);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      setEnrollmentStatus('error');\r\n      setStatusMessage('Network error - Please try again');\r\n    }\r\n  };\r\n\r\n  const enrollFace = () => {\r\n    const imageDataUrl = captureFrameAsDataURL();\r\n    if (!imageDataUrl) {\r\n      setEnrollmentStatus('error');\r\n      setStatusMessage('Could not capture image');\r\n      return;\r\n    }\r\n    handleEnrollment(imageDataUrl);\r\n  };\r\n\r\n  const retryEnrollment = () => {\r\n    setEnrollmentStatus('capturing');\r\n    setStatusMessage('');\r\n  };\r\n\r\n  // ====== BEAUTIFUL DUPLICATE WARNING ======\r\n  const showDuplicateWarning = (message) => {\r\n    const modal = document.createElement('div');\r\n    modal.style.cssText = `\r\n      position: fixed; top: 0; left: 0; right: 0; bottom: 0;\r\n      background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);\r\n      display: flex; align-items: center; justify-content: center;\r\n      z-index: 9999; font-family: 'Inter', sans-serif;\r\n    `;\r\n    \r\n    modal.innerHTML = `\r\n      <div style=\"\r\n        background: linear-gradient(135deg, #fef3c7, #fde68a);\r\n        border: 2px solid #f59e0b; border-radius: 24px;\r\n        padding: 2.5rem 2rem; max-width: 450px; text-align: center;\r\n        box-shadow: 0 25px 50px rgba(245,158,11,0.4);\r\n        animation: bounceIn 0.5s ease;\r\n      \">\r\n        <div style=\"font-size: 3rem; margin-bottom: 1rem;\">ğŸš«</div>\r\n        <h3 style=\"color: #92400e; font-size: 1.4rem; font-weight: 800; margin: 0 0 1rem 0;\">\r\n          Face Already Enrolled!\r\n        </h3>\r\n        <div style=\"\r\n          background: rgba(251,191,36,0.2); border-radius: 16px;\r\n          padding: 1.25rem; margin-bottom: 1.5rem; white-space: pre-line;\r\n          font-size: 1rem; font-weight: 600; line-height: 1.4;\r\n        \">${message}</div>\r\n        <button onclick=\"this.closest('div').parentElement.parentElement.remove()\" style=\"\r\n          background: linear-gradient(135deg, #f59e0b, #d97706);\r\n          color: white; border: none; padding: 0.875rem 2rem;\r\n          border-radius: 50px; font-size: 1rem; font-weight: 700;\r\n          cursor: pointer; box-shadow: 0 10px 25px rgba(245,158,11,0.4);\r\n          transition: all 0.3s ease;\r\n        \" onmouseover=\"this.style.transform='translateY(-2px)'; this.style.boxShadow='0 15px 35px rgba(245,158,11,0.5)'\"\r\n           onmouseout=\"this.style.transform=''; this.style.boxShadow='0 10px 25px rgba(245,158,11,0.4)'\">\r\n          Got it! ğŸ‘\r\n        </button>\r\n      </div>\r\n      <style>\r\n        @keyframes bounceIn {\r\n          0% { transform: scale(0.3); opacity: 0; }\r\n          50% { transform: scale(1.05); }\r\n          70% { transform: scale(0.9); }\r\n          100% { transform: scale(1); opacity: 1; }\r\n        }\r\n      </style>\r\n    `;\r\n    document.body.appendChild(modal);\r\n  };\r\n\r\n  const branches = ['CSE', 'AIML', 'AIDS', 'ECE', 'MECH'];\r\n\r\n  return (\r\n    <div className=\"manage-students-container\">\r\n      {/* Branch Selection */}\r\n      <div className=\"branch-selector\">\r\n        <h2 className=\"page-title\">ğŸ‘¨â€ğŸ“ Manage Students</h2>\r\n        <div className=\"branch-buttons\">\r\n          {branches.map((b) => (\r\n            <button\r\n              key={b}\r\n              className={`branch-btn ${branch === b ? 'active' : ''}`}\r\n              onClick={() => {\r\n                setBranch(b);\r\n                setFormData(prev => ({ ...prev, branch: b }));\r\n              }}\r\n            >\r\n              <span className=\"branch-icon\">\r\n                {b === 'CSE' ? 'ğŸ’»' : b === 'AIML' ? 'ğŸ§ ' : b === 'AIDS' ? 'ğŸ¤–' : b === 'ECE' ? 'ğŸ“¡' : 'âš™ï¸'}\r\n              </span>\r\n              {b}\r\n              <span className=\"student-count\">({students.length})</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Student Button */}\r\n      <div className=\"add-student-section\">\r\n        <button \r\n          className=\"add-student-btn\"\r\n          onClick={() => setShowAddForm(!showAddForm)}\r\n        >\r\n          <i className=\"fas fa-plus-circle\"></i>\r\n          {showAddForm ? 'Cancel' : 'â• Add New Student'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Add Student Form */}\r\n      {showAddForm && (\r\n        <div className=\"add-student-form-container\">\r\n          <form className=\"add-student-form\" onSubmit={handleSubmit}>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>Admission No <span className=\"required\">*</span></label>\r\n                <input\r\n                  className=\"form-input\"\r\n                  placeholder=\"E.g., E220160\"\r\n                  value={formData.admissionNo}\r\n                  onChange={(e) => setFormData({ ...formData, admissionNo: e.target.value })}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Student Name <span className=\"required\">*</span></label>\r\n                <input\r\n                  className=\"form-input\"\r\n                  placeholder=\"Enter full name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Specialization</label>\r\n                <input\r\n                  className=\"form-input\"\r\n                  placeholder=\"E.g., AI/ML\"\r\n                  value={formData.specialization}\r\n                  onChange={(e) => setFormData({ ...formData, specialization: e.target.value })}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Email</label>\r\n                <input\r\n                  className=\"form-input\"\r\n                  type=\"email\"\r\n                  placeholder=\"student@college.edu\"\r\n                  value={formData.email}\r\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Semester</label>\r\n                <select\r\n                  className=\"form-select\"\r\n                  value={formData.semester}\r\n                  onChange={(e) => setFormData({ ...formData, semester: e.target.value })}\r\n                >\r\n                  {[1, 2, 3, 4, 5, 6, 7, 8].map((s) => (\r\n                    <option key={s} value={s}>Semester {s}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-actions\">\r\n              <button type=\"button\" className=\"cancel-btn\" onClick={() => setShowAddForm(false)}>\r\n                Cancel\r\n              </button>\r\n              <button type=\"submit\" className=\"submit-btn\">\r\n                â• Add Student\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Students List */}\r\n      <div className=\"students-list\">\r\n        <div className=\"students-header\">\r\n          <h3>{branch} Students ({students.length})</h3>\r\n        </div>\r\n        <div className=\"students-grid\">\r\n          {students.map((student) => (\r\n            <div key={student.admission_no} className=\"student-card\">\r\n              <div className=\"student-avatar\">\r\n                {student.name.charAt(0).toUpperCase()}\r\n              </div>\r\n              <div className=\"student-info\">\r\n                <h4>{student.name}</h4>\r\n                <div className=\"admission-no\">{student.admission_no}</div>\r\n                {student.specialization && (\r\n                  <div className=\"specialization\">{student.specialization}</div>\r\n                )}\r\n                {student.semester && (\r\n                  <div className=\"semester\">Semester {student.semester}</div>\r\n                )}\r\n              </div>\r\n              <div className={`face-status ${student.face_enrolled ? 'enrolled' : ''}`}>\r\n                {student.face_enrolled ? (\r\n                  <>\r\n                    <i className=\"fas fa-check-circle\"></i>\r\n                    <span>Enrolled</span>\r\n                  </>\r\n                ) : (\r\n                  <button\r\n                    className=\"enroll-btn\"\r\n                    onClick={() => handleEnrollClick(student)}\r\n                  >\r\n                    Enroll Face\r\n                  </button>\r\n                )}\r\n              </div>\r\n              <button\r\n                className=\"delete-btn\"\r\n                onClick={() => deleteStudent(student.admission_no)}\r\n              >\r\n                ğŸ—‘ï¸\r\n              </button>\r\n            </div>\r\n          ))}\r\n          {students.length === 0 && (\r\n            <div className=\"empty-state\">\r\n              <p>No students in {branch} branch yet. Add some above! ğŸ‘†</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ====== ENROLLMENT CAMERA MODAL ====== */}\r\n      {isEnrolling && (\r\n        <div className=\"enroll-modal-overlay\">\r\n          <div className=\"enroll-modal\">\r\n            <div className=\"modal-header\">\r\n              <h3>Enroll Face: {enrollingStudent?.name}</h3>\r\n              <button className=\"close-btn\" onClick={() => {\r\n                setIsEnrolling(false);\r\n                setEnrollingStudent(null);\r\n                stopCamera();\r\n              }}>Ã—</button>\r\n            </div>\r\n\r\n            {enrollmentStatus === 'idle' && (\r\n              <div className=\"modal-start\">\r\n                <div className=\"avatar\">{enrollingStudent?.name.charAt(0)}</div>\r\n                <h4>{enrollingStudent?.name}</h4>\r\n                <p>{enrollingStudent?.admission_no}</p>\r\n                <button className=\"start-camera-btn\" onClick={startCamera}>\r\n                  ğŸ¥ Start Camera\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {(enrollmentStatus === 'capturing' || enrollmentStatus === 'processing') && (\r\n              <div className=\"modal-camera\">\r\n                <video ref={videoRef} autoPlay muted playsInline />\r\n                <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n                \r\n                <div className={`status-display ${enrollmentStatus}`}>\r\n                  {enrollmentStatus === 'capturing' && (\r\n                    <>\r\n                      <div className=\"face-circle\">\r\n                        <i className=\"fas fa-circle-notch fa-spin\"></i>\r\n                      </div>\r\n                      <p>Position face in frame & click capture</p>\r\n                      <button className=\"capture-btn\" onClick={enrollFace}>\r\n                        ğŸ“¸ Capture & Enroll\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                  {enrollmentStatus === 'processing' && (\r\n                    <>\r\n                      <div className=\"spinner\"></div>\r\n                      <p>{statusMessage}</p>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {enrollmentStatus === 'success' && (\r\n              <div className=\"modal-success\">\r\n                <div className=\"success-icon\">âœ…</div>\r\n                <h3>{statusMessage}</h3>\r\n              </div>\r\n            )}\r\n\r\n            {enrollmentStatus === 'error' && (\r\n              <div className=\"modal-error\">\r\n                <div className=\"error-icon\">âŒ</div>\r\n                <h3>Enrollment Failed</h3>\r\n                <p>{statusMessage}</p>\r\n                <div className=\"error-actions\">\r\n                  <button className=\"retry-btn\" onClick={retryEnrollment}>\r\n                    ğŸ”„ Retry\r\n                  </button>\r\n                  <button className=\"cancel-btn\" onClick={() => {\r\n                    setIsEnrolling(false);\r\n                    setEnrollingStudent(null);\r\n                    stopCamera();\r\n                  }}>\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageStudents;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}