{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nagat\\\\OneDrive\\\\Desktop\\\\sample project\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useState } from \"react\";\nimport \"./App.css\";\nimport { API_BASE } from \"./config\";\nimport { getToken, setToken, clearToken, isLoggedIn } from \"./auth\";\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\nimport DashboardApp from \"./DashboardApp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [authed, setAuthed] = useState(isLoggedIn());\n  const [screen, setScreen] = useState(isLoggedIn() ? \"dashboard\" : \"login\");\n  const handleLoginSuccess = token => {\n    setToken(token);\n    setAuthed(true);\n    setScreen(\"dashboard\");\n  };\n  const handleSignupSuccess = token => {\n    setToken(token);\n    setAuthed(true);\n    setScreen(\"dashboard\");\n  };\n  const handleLogout = async () => {\n    try {\n      const token = getToken();\n      await fetch(`${API_BASE}/api/auth/logout`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n    } catch (_) {}\n    clearToken();\n    setAuthed(false);\n    setScreen(\"login\");\n  };\n  if (!authed) {\n    if (screen === \"signup\") {\n      return /*#__PURE__*/_jsxDEV(Signup, {\n        onSignupSuccess: handleSignupSuccess,\n        goToLogin: () => setScreen(\"login\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Login, {\n      onLoginSuccess: handleLoginSuccess,\n      goToSignup: () => setScreen(\"signup\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(DashboardApp, {\n    onLogout: handleLogout\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, this);\n}\n_s(App, \"o9E+RLm9IHhYBZKD+ykF66ZMh8E=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","API_BASE","getToken","setToken","clearToken","isLoggedIn","Login","Signup","DashboardApp","jsxDEV","_jsxDEV","App","_s","authed","setAuthed","screen","setScreen","handleLoginSuccess","token","handleSignupSuccess","handleLogout","fetch","method","headers","Authorization","_","onSignupSuccess","goToLogin","fileName","_jsxFileName","lineNumber","columnNumber","onLoginSuccess","goToSignup","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/nagat/OneDrive/Desktop/sample project/frontend/src/App.js"],"sourcesContent":["// src/App.js\r\nimport React, { useState } from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport { API_BASE } from \"./config\";\r\nimport { getToken, setToken, clearToken, isLoggedIn } from \"./auth\";\r\nimport Login from \"./Login\";\r\nimport Signup from \"./Signup\";\r\nimport DashboardApp from \"./DashboardApp\";\r\n\r\nfunction App() {\r\n  const [authed, setAuthed] = useState(isLoggedIn());\r\n  const [screen, setScreen] = useState(isLoggedIn() ? \"dashboard\" : \"login\");\r\n\r\n  const handleLoginSuccess = (token) => {\r\n    setToken(token);\r\n    setAuthed(true);\r\n    setScreen(\"dashboard\");\r\n  };\r\n\r\n  const handleSignupSuccess = (token) => {\r\n    setToken(token);\r\n    setAuthed(true);\r\n    setScreen(\"dashboard\");\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const token = getToken();\r\n      await fetch(`${API_BASE}/api/auth/logout`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n    } catch (_) {}\r\n    clearToken();\r\n    setAuthed(false);\r\n    setScreen(\"login\");\r\n  };\r\n\r\n  if (!authed) {\r\n    if (screen === \"signup\") {\r\n      return (\r\n        <Signup\r\n          onSignupSuccess={handleSignupSuccess}\r\n          goToLogin={() => setScreen(\"login\")}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <Login\r\n        onLoginSuccess={handleLoginSuccess}\r\n        goToSignup={() => setScreen(\"signup\")}\r\n      />\r\n    );\r\n  }\r\n\r\n  return <DashboardApp onLogout={handleLogout} />;\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,WAAW;AAElB,SAASC,QAAQ,QAAQ,UAAU;AACnC,SAASC,QAAQ,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,UAAU,QAAQ,QAAQ;AACnE,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,YAAY,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAACK,UAAU,CAAC,CAAC,CAAC;EAClD,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAACK,UAAU,CAAC,CAAC,GAAG,WAAW,GAAG,OAAO,CAAC;EAE1E,MAAMY,kBAAkB,GAAIC,KAAK,IAAK;IACpCf,QAAQ,CAACe,KAAK,CAAC;IACfJ,SAAS,CAAC,IAAI,CAAC;IACfE,SAAS,CAAC,WAAW,CAAC;EACxB,CAAC;EAED,MAAMG,mBAAmB,GAAID,KAAK,IAAK;IACrCf,QAAQ,CAACe,KAAK,CAAC;IACfJ,SAAS,CAAC,IAAI,CAAC;IACfE,SAAS,CAAC,WAAW,CAAC;EACxB,CAAC;EAED,MAAMI,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMF,KAAK,GAAGhB,QAAQ,CAAC,CAAC;MACxB,MAAMmB,KAAK,CAAC,GAAGpB,QAAQ,kBAAkB,EAAE;QACzCqB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAE,UAAUN,KAAK;QAChC;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOO,CAAC,EAAE,CAAC;IACbrB,UAAU,CAAC,CAAC;IACZU,SAAS,CAAC,KAAK,CAAC;IAChBE,SAAS,CAAC,OAAO,CAAC;EACpB,CAAC;EAED,IAAI,CAACH,MAAM,EAAE;IACX,IAAIE,MAAM,KAAK,QAAQ,EAAE;MACvB,oBACEL,OAAA,CAACH,MAAM;QACLmB,eAAe,EAAEP,mBAAoB;QACrCQ,SAAS,EAAEA,CAAA,KAAMX,SAAS,CAAC,OAAO;MAAE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC,CAAC;IAEN;IACA,oBACErB,OAAA,CAACJ,KAAK;MACJ0B,cAAc,EAAEf,kBAAmB;MACnCgB,UAAU,EAAEA,CAAA,KAAMjB,SAAS,CAAC,QAAQ;IAAE;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CAAC;EAEN;EAEA,oBAAOrB,OAAA,CAACF,YAAY;IAAC0B,QAAQ,EAAEd;EAAa;IAAAQ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACjD;AAACnB,EAAA,CAlDQD,GAAG;AAAAwB,EAAA,GAAHxB,GAAG;AAoDZ,eAAeA,GAAG;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}